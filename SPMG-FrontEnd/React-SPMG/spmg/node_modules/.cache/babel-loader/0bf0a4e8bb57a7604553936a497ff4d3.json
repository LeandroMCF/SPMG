{"ast":null,"code":"var _jsxFileName = \"D:\\\\Senai\\\\SPMG-HTML\\\\SPMG-FrontEnd\\\\React-SPMG\\\\spmg\\\\src\\\\Login\\\\login.js\";\nimport { Component } from 'react';\nimport axios from \"axios\";\nimport '../style/css/style.css';\nimport Cabecalho from '../Cabecalho/cabecalho';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.efetuarLogin = event => {\n      event.preventDefault();\n      this.setState({\n        erroMensagem: '',\n        isLoading: true\n      });\n      axios.post('http://localhost:5000/api/Login', {\n        email: this.state.email,\n        senha: this.state.senha\n      }).then(resposta => {\n        if (resposta.status === 200) {\n          localStorage.setItem('usuario-token', resposta.data.token);\n          console.log('Token: ' + resposta.data.token);\n          this.setState({\n            isLoading: false\n          });\n          let base64 = localStorage.getItem('usuario-token').split('.')[1];\n        }\n      }).catch(() => {\n        this.setState({\n          erroMensagem: 'Email ou senha incorretos',\n          isLoading: false\n        });\n      });\n    };\n\n    this.attCampos = campo => {\n      this.setState({\n        [campo.target.name]: campo.target.value\n      });\n    };\n\n    this.state = {\n      email: 'adm@gmail.com',\n      senha: 'adm123',\n      erroMensagem: '',\n      isLoading: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Cabecalho, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"body\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alinhemantoLogin\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"campo\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.efetuarLogin,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alinharCampo\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"alinharP\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 63,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"digitar email\",\n                  name: \"email\",\n                  onChange: this.attCampos,\n                  value: this.state.email,\n                  required: true,\n                  type: \"email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"alinharP\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Senha\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"digitar senha\",\n                  name: \"senha\",\n                  onChange: this.attCampos,\n                  value: this.state.senha,\n                  required: true,\n                  type: \"password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: 'red',\n                    textAlign: 'center'\n                  },\n                  children: this.state.erroMensagem\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 37\n                }, this), this.state.isLoading === true && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"botaoLogin\",\n                  disabled: true,\n                  children: \"Loading...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 41\n                }, this), this.state.isLoading === false && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"botaoLogin\",\n                  type: \"submit\",\n                  disabled: this.state.email === '' || this.state.senha === '' ? 'none' : '',\n                  children: \"Entrar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["D:/Senai/SPMG-HTML/SPMG-FrontEnd/React-SPMG/spmg/src/Login/login.js"],"names":["Component","axios","Cabecalho","Login","constructor","props","efetuarLogin","event","preventDefault","setState","erroMensagem","isLoading","post","email","state","senha","then","resposta","status","localStorage","setItem","data","token","console","log","base64","getItem","split","catch","attCampos","campo","target","name","value","render","color","textAlign"],"mappings":"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","sourcesContent":["import { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport '../style/css/style.css';\r\n\r\nimport Cabecalho from '../Cabecalho/cabecalho'\r\n\r\nclass Login extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            email : 'adm@gmail.com',\r\n            senha : 'adm123',\r\n            erroMensagem : '',\r\n            isLoading : false\r\n        }\r\n    }\r\n\r\n    efetuarLogin = (event) => {\r\n\r\n        event.preventDefault();\r\n\r\n        this.setState({ erroMensagem : '', isLoading : true })\r\n\r\n        axios.post('http://localhost:5000/api/Login', {\r\n\r\n            email : this.state.email,\r\n            senha : this.state.senha\r\n            \r\n        })\r\n        .then(resposta => {\r\n            if (resposta.status === 200) {\r\n                localStorage.setItem('usuario-token', resposta.data.token);\r\n                console.log('Token: ' + resposta.data.token)\r\n                this.setState({ isLoading : false })\r\n\r\n                let base64 = localStorage.getItem('usuario-token').split('.')[1]\r\n            }\r\n        })\r\n        .catch(() => {\r\n            this.setState({ erroMensagem : 'Email ou senha incorretos', isLoading: false})\r\n        })\r\n    }\r\n\r\n\r\n    attCampos = (campo) => {\r\n        this.setState({[campo.target.name] : campo.target.value })\r\n    }\r\n \r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <Cabecalho/>\r\n                <body>\r\n                    <div className=\"container\">\r\n                        <div className=\"alinhemantoLogin\">\r\n                            <h2>Login</h2>\r\n                        </div>\r\n                        <div className=\"campo\">\r\n                            <form onSubmit={this.efetuarLogin}>\r\n                                <div className=\"alinharCampo\">\r\n                                    <div className=\"alinharP\">\r\n                                        <p>Email</p>\r\n                                    </div>\r\n                                    <input\r\n                                        className=\"digitar email\"\r\n                                        name=\"email\"\r\n                                        onChange={this.attCampos}\r\n                                        value={this.state.email}\r\n                                        required\r\n                                        type=\"email\"\r\n                                    />\r\n                                    <div className=\"alinharP\">\r\n                                        <p>Senha</p>\r\n                                    </div>\r\n                                    <input\r\n                                        className=\"digitar senha\"\r\n                                        name=\"senha\"\r\n                                        onChange={this.attCampos}\r\n                                        value={this.state.senha}\r\n                                        required\r\n                                        type=\"password\"\r\n                                    />\r\n\r\n                                    <p style={{ color : 'red', textAlign : 'center'}} >{this.state.erroMensagem}</p>\r\n\r\n                                    {\r\n                                        this.state.isLoading === true &&\r\n                                        <button type=\"submit\" className=\"botaoLogin\" disabled>Loading...</button>\r\n                                    }\r\n\r\n                                    {\r\n                                        this.state.isLoading === false &&\r\n                                        <button                                        \r\n                                            className=\"botaoLogin\"\r\n                                            type=\"submit\"\r\n                                            disabled={ this.state.email === '' || this.state.senha === '' ? 'none' : '' }\r\n                                        >\r\n                                            Entrar\r\n                                        </button>\r\n                                    }\r\n                                </div>\r\n                            </form>   \r\n                        </div>\r\n                    </div>\r\n                </body>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Login"]},"metadata":{},"sourceType":"module"}